var question_maxAttempt=3,question_attempted=0,question_isRightOptionClicked=!1,question_autocorrect=null,question_okclick=null;question_id=null;var question_optionsList=[],question_remainOptions=null,question_optionTextId=null,question_rightOptionTextId=null;function SetOptionTextId(t){this.question_optionTextId=t}function SetRightOptionTextId(t){this.question_rightOptionTextId=t}function SetRemainOption(t){this.question_remainOptions=t}function DisableOptionInteration(){for(let t=0;t<question_remainOptions.length;t++)question_remainOptions[t].setAttribute("question","enable","false"),question_remainOptions[t].setAttribute("click_sound","enable","false");setTimeout(EnableOptionInteration,2e3)}function EnableOptionInteration(){for(let t=0;t<question_remainOptions.length;t++)question_remainOptions[t].setAttribute("question","enable","true"),question_remainOptions[t].setAttribute("click_sound","enable","true")}function DisableAllOptionInteraction(){for(let t=0;t<question_remainOptions.length;t++)question_remainOptions[t].setAttribute("question","enable","false"),question_remainOptions[t].setAttribute("click_sound","enable","false")}function addOptionToList(t){question_optionsList.push(t)}function removeOptionFromList(t){var e=question_optionsList.indexOf(t);e>-1&&question_optionsList.splice(e,1)}function setId(t){this.question_id=t}function getQuestionOption(t){let e=[];for(let i=0;i<question_optionsList.length;i++)question_optionsList[i].getAttribute("question").id==t&&e.push(question_optionsList[i]);return e}function updateAttempt(){question_attempted++,console.log("Attemps now : ",question_attempted)}function clickedRightOption(){console.log("right option click"),DisableAllOptionInteraction(),question_isRightOptionClicked=!0,updateAttempt(),addScore(question_id,question_attempted),showWelldone(),setTimeout(showOkButton,3e3)}function clickedWrongOption(){console.log("wrong option click"),updateAttempt(),showTryAgain(),question_maxAttempt==question_attempted?(setTimeout(playCurrectOption,3e3),setTimeout(autoCurrect,3e3),setTimeout(showOkButton,5e3),DisableAllOptionInteraction()):DisableOptionInteration()}function autoCurrect(){addScore(question_id,question_attempted),null==question_autocorrect?console.log("autoCurrect event is null"):question_autocorrect()}function playCurrectOption(){PlayVO2("#currectOption"),ChangeTextColorToGreen()}function ok_click(){reset()}function reset(){console.log("All value of question manager reseted"),question_attempted=0,question_isRightOptionClicked=!1,question_autocorrect=null,question_id=null}function showTryAgain(){let t="#tryagain_".concat(question_id);SetActive(t,!0),PlayVO2("#tryagain"),setTimeout(tryagainWelldoneFalse,2e3)}function showWelldone(){let t="#welldone_".concat(question_id);SetActive(t,!0),PlayVO2("#welldone"),setTimeout(tryagainWelldoneFalse,2e3)}function tryagainWelldoneFalse(){let t="#tryagain_".concat(question_id),e="#welldone_".concat(question_id);SetActive(t,!1),SetActive(e,!1)}function showOkButton(){let t="#btn_ok_".concat(question_id);SetActive(t,!0)}function ChangeTextColorToRed(){GetEntityById(question_optionTextId).object3D.parent.children[0].el.setAttribute("color","red")}function ChangeTextColorToGreen(){GetEntityById(question_rightOptionTextId).object3D.parent.children[0].el.setAttribute("color","#35ff35")}AFRAME.registerComponent("question",{schema:{enable:{type:"string",default:"true"},id:{type:"string"},option:{type:"string"},rightOption:{type:"string"}},init:function(){var t=this.data.rightOption,e=this.data.option,i=this.el;addOptionToList(i),i.addEventListener("click",function(n){if("true"==i.getAttribute("question","enable").enable){removeOptionFromList(i),i.setAttribute("question","enable","false");var o=getQuestionOption(this.getAttribute("question").id);SetRemainOption(o),setId(this.getAttribute("question").id);var s="#q".concat(this.getAttribute("question").id).concat(this.getAttribute("question").option).concat("t");SetOptionTextId(s);var u="#q".concat(this.getAttribute("question").id).concat(this.getAttribute("question").rightOption).concat("t");SetRightOptionTextId(u),t==e?(clickedRightOption(),ChangeTextColorToGreen()):(clickedWrongOption(),ChangeTextColorToRed())}})}});
